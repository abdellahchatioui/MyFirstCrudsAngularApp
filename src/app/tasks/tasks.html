<div class="container">

  <h1>ğŸ“ My Tasks</h1>
  <p class="subtitle">This is my first Angular project ğŸ‰</p>

  <!-- ADD TASK FORM -->
  <div class="form-card">
    <input
      type="text"
      placeholder="Task title"
      [(ngModel)]="newTask.title"
    />

    <select [(ngModel)]="newTask.level">
      <option value="">Select level</option>
      <option value="Easy">Easy</option>
      <option value="Medium">Medium</option>
      <option value="Hard">Hard</option>
    </select>

    <label class="checkbox">
      <input type="checkbox" [(ngModel)]="newTask.completed" />
      Completed
    </label>

    <button
      (click)="addTask()"
      [disabled]="!newTask.title || !newTask.level"
    >
      â• Add Task
    </button>
  </div>

  <h2>ğŸ“‹ Tasks List</h2>

  @if (tasks.length === 0) {
    <p class="empty">No tasks available.</p>
  } @else {

    <ul class="task-list">
      @for (task of tasks; track task.id; let i = $index) {
        <li class="task-card" [class.done]="task.completed">

          <div class="task-info">
            <span class="task-id">#{{ task.id }}</span>
            <span class="task-title">{{ task.title }}</span>
          </div>

          <div class="task-meta">
            <span class="level" [class]="task.level.toLowerCase()">
              {{ task.level }}
            </span>

            <span class="status">
              {{ task.completed ? 'âœ… Done' : 'â³ Pending' }}
            </span>
          </div>

          <div class="actions">
              <!-- <button (click)="toggle(task)">âœ”</button> -->
            
            <button (click)="editTask(task)">âœï¸</button>
            <button (click)="deleteTask(task.id)">âŒ</button>
          </div>

        </li>
      }
    </ul>
  }

  <!-- LEVEL SUMMARY -->
  <hr />

  @switch (taskLevel()) {
    @case ("Easy") { <h3>ğŸŸ¢ Easy tasks</h3> }
    @case ("Medium") { <h3>ğŸŸ¡ Medium tasks</h3> }
    @case ("Hard") { <h3>ğŸ”´ Hard tasks</h3> }
    @default { <h3>âšª No level selected</h3> }
  }

</div>
